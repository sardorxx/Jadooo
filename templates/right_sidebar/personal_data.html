{% extends 'right_sidebar/base_personal.html' %}

{% block title %}Jadooâˆ™Personal{% endblock %}
{% block content %}
    <section class="p-3">
            <div class="row">
                <div class="col-12">
                    <table class="table table-striped table-hover mt-3 text-center table-bordered">
                        
                        <thead>
                            <tr>
                                <th>-</th>
                                <th>-</th>
                                <th>-</th>
                                <th>-</th>
                                <th>-</th>
                                <th>-</th>
                                <th>-</th>
                                <th>-</th>
                                <th>-</th>
                                <th>-</th>
                                <th>-</th>
                                <th>-</th>
                            </tr>
                        </thead>
                        
                        
                    
                        <thead>
                            <tr>
                                <th>Picture</th>
                                <th>Name</th>
                                <th>Surname</th>
                                <th>Username</th>
                                <th>Age</th>
                                <th>City</th>
                                <th>Email</th>
                                <th>Phone</th>
                                <th>gender</th>
                                <th>Joined</th>
                                <th>Job</th>
                                <th>Action</th>
                            </tr>
                        </thead>

                        <tbody id="data">
                            <tr>
                            {% if user.image %}
                                <td><img src="{{ user.image.url }}" alt="" width="50" height="50" style="border-radius: 50%"> </td>
                            {% else %}
                                <td><img src="../../media/right_sidebar/profile.jpg" alt="" width="50" height="50"> </td>
                            {% endif %}
                            <style>
                                .icon{
                                    color: blue;
                                }
                            </style>
                            <td>{{ user.first_name }}</td>
                            <td>{{ user.last_name }}</td>
                            <td>{{ user.username }}<i class='bx bxs-badge-check bx-tada bx-flip-vertical icon' ></i></td>
                            <td>{{ user.birth_date }}</td>
                            <td>{{ user.address }}</td>
                            <td>{{ user.email }}</td>
                            <td>{{ user.phone }}</td>
                            <td>{{ user.sex }}</td>
                            <td>{{ user.date_joined}}</td>
                            <td>{{ user.job}}</td>
                            <td>
                                <button class="btn btn-success"><i data-bs-toggle="modal" data-bs-target='#readData' class="bi bi-eye-fill"></i></button>
                                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#userForm"><i class="bi bi-pencil-square"></i></button>
                            </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </section>

<!--        Modal Format-->

        <div class="modal fade" id="userForm">
            <div class="modal-dialog modal-dialog-centered modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Update</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <div class="modal-body">
                        <form method="post" action="{% url 'account:update_user' %}" id="myForm">
                            {% csrf_token %}
                            <div class="card imgholder">
                                <img src="../../media/right_sidebar/profile.jpg" alt="">
                            </div>
                            <div class="inputField">
                                <div>
                                    <label for="name">Name</label>
                                    <input type="text" name="first_name" id="name" placeholder="Joe">
                                </div>
                                <div>
                                    <label for="surname">Surname</label>
                                    <input type="text" name="last_name" id="surname" placeholder="Tom">
                                </div>
                                <div>
                                    <label for="username">Username</label>
                                    <input type="text" name="username" id="username" placeholder="joe2222tom">
                                </div>
                                <div>
                                    <label for="sDate">Birth date</label>
                                    <input type="date" name="birth_date" id="sDate">
                                </div>
                                <div>
                                    <label for="address">Address</label>
                                    <input type="text" name="address" id="address" placeholder="Toshkent, Toshkent, Shayxontohur 12">
                                </div>
                                <div>
                                    <label for="email">Email</label>
                                    <input type="email" name="email" id="email" placeholder="joe2222@gmail.com">
                                </div>
                                <div>
                                    <label for="phone">Phone</label>
                                    <input type="number" name="phone" id="phone" maxlength="12" placeholder="998932227788">
                                </div>
                                <div>
                                    <label for="gender">Gender</label>
                                    <input type="text" name="sex" id="gender" placeholder="Men or Women">
                                </div>
                                <div>
                                    <label for="job">Job</label>
                                    <input type="text" name="job" id="job" placeholder="Teacher">
                                </div>
                                <div>
                                    <label for="proImage" class="upload">Image</label>
                                    <input type="file" name="image" id="proImage" placeholder="Your image">
                                </div>
                                <div class="modal-footer">
                                    <button type="submit" form="myForm" class="btn btn-primary submit">Update</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>


<!--        Modal Read-->


        <div class="modal fade" id="readData">
            <div class="modal-dialog modal-dialog-centered modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Pofile</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <div class="modal-body">
                        <form action="#" id="myForm1">

                            <div class="card imgholder">
                                {% if user.image %}
                                    <img src="{{ user.image.url }}" alt="">
                                {% else %}
                                    <img src="../../media/right_sidebar/profile.jpg" alt="">
                                {% endif %}
                                
                            </div>

                            <div class="inputField">
                                <div>
                                    <label for="name">Name</label>
                                    <p>{{ user.name }}</p>
                                </div>
                                <div>
                                    <label for="surname">Surname</label>
                                    <p>{{ user.last_name }}</p>
                                </div>
                                <div>
                                    <style>
                                        .icon{
                                            color: blue;
                                        }
                                    </style>
                                    <label for="username">Username</label>
                                    <p>{{ user.username }}<i class='bx bxs-badge-check bx-tada bx-flip-vertical icon' ></i></p>
                                </div>
                                <div>
                                    <label for="age">Birthday</label>
                                    <p>{{ user.birth_date }}</p>
                                </div>
                                <div>
                                    <label for="city">City</label>
                                    <p>{{ user.address }}</p>
                                </div>
                                <div>
                                    <label for="email">Email</label>
                                    <p>{{ user.email }}</p>
                                </div>
                                <div>
                                    <label for="phone">Phone</label>
                                    <p>{{ user.phone }}</p>
                                </div>
                                <div>
                                    <label for="gender">Gender</label>
                                    <p>{{ user.sex }}</p>
                                </div>
                                <div>
                                    <label for="joined">Joined</label>
                                    <p>{{ user.date_joined }}</p>
                                </div>
                                <div>
                                    <label for="job">Job</label>
                                    <p>{{ user.job }}</p>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    
{% endblock %}